## ADDED Requirements

### Requirement: 响应式布局断点
系统 SHALL 根据屏幕宽度应用不同的布局模式。

#### Scenario: 移动端布局 (< 600px)
- **WHEN** 屏幕宽度小于 600px
- **THEN** 侧边栏默认隐藏，对话区域占满全屏宽度

#### Scenario: 平板布局 (600px - 899px)
- **WHEN** 屏幕宽度在 600px 到 899px 之间
- **THEN** 侧边栏可通过按钮切换显示/隐藏，对话区域自适应宽度

#### Scenario: 桌面端布局 (>= 900px)
- **WHEN** 屏幕宽度大于等于 900px
- **THEN** 侧边栏固定显示，与对话区域并排布局

### Requirement: 移动端抽屉式侧边栏
系统 SHALL 在移动端提供抽屉式侧边栏导航。

#### Scenario: 打开侧边栏
- **WHEN** 用户点击汉堡菜单图标
- **THEN** 侧边栏从左侧滑入，显示对话历史列表

#### Scenario: 关闭侧边栏（点击遮罩）
- **WHEN** 侧边栏打开时，用户点击遮罩层
- **THEN** 侧边栏滑出隐藏

#### Scenario: 关闭侧边栏（手势滑动）
- **WHEN** 侧边栏打开时，用户向左滑动
- **THEN** 侧边栏滑出隐藏

#### Scenario: 选择对话后关闭
- **WHEN** 用户在侧边栏中选择一个对话
- **THEN** 侧边栏自动关闭，显示所选对话内容

### Requirement: 触摸友好的交互设计
系统 SHALL 确保所有交互元素在触摸屏上易于操作。

#### Scenario: 按钮最小尺寸
- **WHEN** 在移动端显示按钮
- **THEN** 按钮最小触摸区域为 44x44 像素

#### Scenario: 元素间距
- **WHEN** 在移动端显示可点击元素
- **THEN** 相邻可点击元素间距至少 8px

#### Scenario: 发送按钮位置
- **WHEN** 在移动端输入消息
- **THEN** 发送按钮位于输入框右侧，易于单手操作

### Requirement: 虚拟键盘适配
系统 SHALL 正确处理移动端虚拟键盘的弹出和收起。

#### Scenario: 输入框聚焦时键盘弹出
- **WHEN** 用户点击输入框
- **THEN** 输入框保持在可视区域内，不被键盘遮挡

#### Scenario: 消息列表滚动
- **WHEN** 键盘弹出时
- **THEN** 消息列表自动滚动，最新消息可见

#### Scenario: 键盘收起时布局恢复
- **WHEN** 用户完成输入，键盘收起
- **THEN** 页面布局恢复正常，无抖动

### Requirement: 移动端性能优化
系统 SHALL 在移动端保持流畅的用户体验。

#### Scenario: 减少动画
- **WHEN** 在低性能移动设备上
- **THEN** 减少或禁用非必要的动画效果

#### Scenario: 消息懒加载
- **WHEN** 对话历史超过 50 条消息
- **THEN** 仅加载最近的消息，滚动时按需加载更多

#### Scenario: 图片优化
- **WHEN** 显示用户头像或其他图片
- **THEN** 使用适当尺寸的图片，避免加载过大资源

### Requirement: 禁止页面缩放
系统 SHALL 禁止移动端页面缩放，保持固定视口。

#### Scenario: 双指缩放
- **WHEN** 用户在页面上进行双指缩放手势
- **THEN** 页面不发生缩放

#### Scenario: 双击缩放
- **WHEN** 用户双击页面
- **THEN** 页面不发生缩放

### Requirement: 移动端输入优化
系统 SHALL 优化移动端的文本输入体验。

#### Scenario: 输入框自动增高
- **WHEN** 用户输入多行文本
- **THEN** 输入框高度自动增加（最多 4 行）

#### Scenario: 输入框最大高度
- **WHEN** 输入内容超过 4 行
- **THEN** 输入框显示滚动条，高度不再增加

#### Scenario: 软键盘回车行为
- **WHEN** 用户在输入框按下软键盘回车键
- **THEN** 发送消息（与桌面端 Enter 行为一致）
